{"version":3,"sources":["action/evaluateAction.js","../node_modules/@mui/icons-material/Check.js","../node_modules/@mui/icons-material/Clear.js","page/Evaluate.js"],"names":["getEvaluated","payload","a","MaChiBo","Nam","MaSoDangVien","path","push","console","log","axios","get","join","res","status","error","response","data","msg","getTimeEvaluate","checkIsOpen","id","setTimeEvaluate","pmFrom","pmTo","subjectFrom","subjectTo","departmentFrom","departmentTo","year","post","resetStatus","MaDVDG","ThoiGianBatDau","ThoiGianKetThuc","TrangThai","resPm","resSubject","resDepartment","_interopRequireDefault","require","Object","defineProperty","exports","value","default","_createSvgIcon","_jsxRuntime","_default","jsx","d","useStyles","makeStyles","theme","header","marginBottom","headerContent","textTransform","fontWeight","table","width","backgroundColor","marginTop","paper","padding","flexContainer","display","alignItems","flexWrap","margin","inputSelect","marginRight","marginLeft","paperStatistic","paperWrapper","cursor","palette","common","white","Evaluate","classes","useContext","PartyMemberContext","partyMember","partyMemberDispatch","InfoContext","info","infoDispatch","CategoryContext","category","categoryDispatch","SnackbarContext","openSnackbarDispatch","openSnackbar","LoadingContext","loading","loadingDispatch","useState","Date","getFullYear","setYear","grade","setGrade","gradeArr","setGradeArr","isEvaluate","setIsEvaluate","isTime","setIsTime","fetchGetEvaluate","type","length","MaLoai","message","handleSubmit","useEffect","getAllCategory","checkTime","NgayKetThucCheck","getTimeWithEndHour","NgayBatDauCheck","getTimeWithStartHour","categories","map","el","Data","sidebar","open","className","variant","style","getLocaleDate","onChange","e","target","TenLoai","disabled","onClick","color","fontSize"],"mappings":"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","file":"static/js/17.f193ba26.chunk.js","sourcesContent":["import axios from \"../helper/axios\"\r\n\r\nexport const getEvaluated = async (payload) => {\r\n    try {\r\n        const { MaChiBo, Nam, MaSoDangVien } = payload;\r\n        let path = [];\r\n        if (Nam) path.push(`Nam=${Nam}`)\r\n        if (MaChiBo) path.push(`MaChiBo=${MaChiBo}`)\r\n        if (MaSoDangVien) path.push(`MaSoDangVien=${MaSoDangVien}`);\r\n        console.log(path);\r\n        const res = await axios.get(`/api/evaluate/getevaluated?` + path.join('&'));\r\n        if (res.status == 200) {\r\n            return res;\r\n        }\r\n    } catch (error) {\r\n        return { error: error.response.data.msg }\r\n        console.log(error.response)\r\n    }\r\n}\r\n\r\nexport const getTimeEvaluate = async (payload) => {\r\n    try {\r\n        const res = await axios.get(`/api/evaluate/gettime?Nam=${payload.Nam}`)\r\n        console.log(res);\r\n        if (res.status == 200) {\r\n            return res.data;\r\n        }\r\n    } catch (error) {\r\n        console.log(error.response)\r\n    }\r\n}\r\n\r\nexport const checkIsOpen = async (payload) => {\r\n    try {\r\n        const res = payload.id\r\n            ? await axios.get(`/api/evaluate/checkopen?MaDVDG=${payload.id}`)\r\n            : await axios.get(`/api/evaluate/checkopen`)\r\n        console.log(res);\r\n        if (res.status == 200) {\r\n            return res.data[0];\r\n        }\r\n    } catch (error) {\r\n        console.log(error.response)\r\n    }\r\n}\r\n\r\nexport const setTimeEvaluate = async (payload) => {\r\n    const { pmFrom, pmTo, subjectFrom, subjectTo, departmentFrom, departmentTo, year } = payload\r\n    try {\r\n\r\n        const resetStatus = await axios.post('/api/evaluate/resetstatus')\r\n        console.log(resetStatus);\r\n        \r\n        const resPm = await axios.post('/api/evaluate/settime', {\r\n            Nam: year,\r\n            MaDVDG: 1,\r\n            ThoiGianBatDau: pmFrom,\r\n            ThoiGianKetThuc: pmTo,\r\n            TrangThai: 1\r\n        })\r\n        const resSubject = await axios.post('/api/evaluate/settime', {\r\n            Nam: year,\r\n            MaDVDG: 2,\r\n            ThoiGianBatDau: subjectFrom,\r\n            ThoiGianKetThuc: subjectTo,\r\n            TrangThai: 1\r\n        })\r\n        const resDepartment = await axios.post('/api/evaluate/settime', {\r\n            Nam: year,\r\n            MaDVDG: 3,\r\n            ThoiGianBatDau: departmentFrom,\r\n            ThoiGianKetThuc: departmentTo,\r\n            TrangThai: 1\r\n        })\r\n        console.log(resPm)\r\n        console.log(resSubject)\r\n        console.log(resDepartment)\r\n        return resDepartment;\r\n    } catch (error) {\r\n        console.log(error.response)\r\n    }\r\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"\n}), 'Check');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Clear');\n\nexports.default = _default;","import CheckIcon from '@mui/icons-material/Check';\r\nimport ClearIcon from '@mui/icons-material/Clear';\r\nimport {\r\n    Grid,\r\n    MenuItem,\r\n    Paper, Typography\r\n} from '@mui/material';\r\nimport makeStyles from '@mui/styles/makeStyles';\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { getAllCategory } from '../action/categoryAction';\r\nimport { checkIsOpen } from '../action/evaluateAction';\r\nimport Layout from '../component/Layout';\r\nimport MyButton from '../component/UI/MyButton';\r\nimport MySelect from '../component/UI/MySelect';\r\nimport { CategoryContext } from '../contextAPI/CategoryContext';\r\nimport { InfoContext } from '../contextAPI/InfoContext';\r\nimport { LoadingContext } from '../contextAPI/LoadingContext';\r\nimport { PartyMemberContext } from '../contextAPI/PartyMemberContext';\r\nimport { SnackbarContext } from '../contextAPI/SnackbarContext';\r\nimport axios from '../helper/axios';\r\nimport { getLocaleDate, getTimeWithEndHour, getTimeWithStartHour } from '../utils/utils';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    header: {\r\n        marginBottom: '40px'\r\n    },\r\n    headerContent: {\r\n        textTransform: 'uppercase',\r\n        fontWeight: '600',\r\n    },\r\n    table: {\r\n        width: '100%',\r\n        backgroundColor: 'white',\r\n        marginTop: '18px',\r\n    },\r\n    paper: {\r\n        padding: '16px',\r\n        marginBottom: '16px',\r\n    },\r\n    flexContainer: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        flexWrap: 'wrap',\r\n        margin: '20px 0'\r\n    },\r\n    inputSelect: {\r\n        marginRight: '20px',\r\n        marginLeft: '16px',\r\n    },\r\n    paperStatistic: {\r\n        padding: '8px',\r\n        margin: '0 8px',\r\n    },\r\n    paperWrapper: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    status: {\r\n        cursor: \"default\",\r\n        '&:hover': {\r\n            backgroundColor: theme.palette.common.white\r\n        }\r\n    }\r\n}))\r\n\r\nconst Evaluate = () => {\r\n    const classes = useStyles();\r\n\r\n    // ContextAPI\r\n    const { partyMember, partyMemberDispatch } = useContext(PartyMemberContext);\r\n    const { info, infoDispatch } = useContext(InfoContext);\r\n    const { category, categoryDispatch } = useContext(CategoryContext);\r\n    const { openSnackbar, openSnackbarDispatch } = useContext(SnackbarContext)\r\n    const { loading, loadingDispatch } = useContext(LoadingContext)\r\n    // State\r\n\r\n\r\n    const [year, setYear] = useState((new Date).getFullYear());\r\n    const [grade, setGrade] = useState(\"0\");\r\n    const [gradeArr, setGradeArr] = useState([]);\r\n    const [isEvaluate, setIsEvaluate] = useState(false);\r\n    const [isTime, setIsTime] = useState({ isTime: false, ThoiGianBatDau: \"\", ThoiGianKetThuc: \"\" });\r\n\r\n    // Handle Function\r\n    const handleChange = (e) => {\r\n        setGrade(e.target.value)\r\n    }\r\n\r\n    const fetchGetEvaluate = async () => {\r\n        try {\r\n            loadingDispatch({ type: 'OPEN_LOADING' })\r\n            const res = await axios.get(`/api/evaluate/getbypm?MaSoDangVien=${info.info.MaSoDangVien}&Nam=${year}&MaDVDG=1`)\r\n            console.log(res.data);\r\n            if (res.status == 200) {\r\n                if (res.data.length > 0) {\r\n                    setGrade(res.data[0].MaLoai)\r\n                    setIsEvaluate(true)\r\n                }\r\n            }\r\n            loadingDispatch({ type: 'CLOSE_LOADING' })\r\n        } catch (error) {\r\n            console.log(error.message)\r\n        }\r\n    }\r\n\r\n    const handleSubmit = async () => {\r\n        try {\r\n            const res = await axios.post('/api/evaluate/create', {\r\n                MaSoDangVien: info.info.MaSoDangVien,\r\n                Nam: year,\r\n                MaLoai: grade,\r\n                MaDVDG: 1\r\n            })\r\n            if (res.status == 201) {\r\n                await fetchGetEvaluate();\r\n            }\r\n            openSnackbarDispatch({\r\n                type: 'SET_OPEN',\r\n                payload: {\r\n                    msg: \"Đã đánh giá!\",\r\n                    type: \"success\"\r\n                }\r\n            })\r\n        } catch (error) {\r\n            openSnackbarDispatch({\r\n                type: 'SET_OPEN',\r\n                payload: {\r\n                    msg: error.response.data.msg,\r\n                    type: \"error\"\r\n                }\r\n            })\r\n        }\r\n    }\r\n    // UseEffect\r\n    useEffect(() => {\r\n        loadingDispatch({ type: 'OPEN_LOADING' })\r\n        getAllCategory(categoryDispatch, \"grade\");\r\n        checkTime();\r\n    }, [])\r\n\r\n    const checkTime = async () => {\r\n        const res = await checkIsOpen({ id: 1 });\r\n        console.log(res);\r\n        if (res) {\r\n            const { ThoiGianBatDau, ThoiGianKetThuc, Nam } = res\r\n            setYear(Nam)\r\n            let NgayKetThucCheck = getTimeWithEndHour(ThoiGianKetThuc)\r\n            let NgayBatDauCheck = getTimeWithStartHour(ThoiGianBatDau)\r\n\r\n            if (new Date() >= NgayBatDauCheck && new Date() <= NgayKetThucCheck) {\r\n                setIsTime({ isTime: true, ThoiGianBatDau, ThoiGianKetThuc });\r\n            }\r\n        }\r\n        loadingDispatch({ type: 'CLOSE_LOADING' })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (isTime.isTime) {\r\n            fetchGetEvaluate();\r\n        }\r\n    }, [isTime])\r\n\r\n    useEffect(() => {\r\n        if (category.categories.grade.length > 0) {\r\n            category.categories.grade.map(el => {\r\n                el.Nam == year && setGradeArr(el.Data)\r\n            })\r\n        }\r\n    }, [category.categories.grade])\r\n\r\n    return (\r\n        <>\r\n            <Layout sidebar>\r\n                {!loading.open &&\r\n                    <>\r\n                        <div className={classes.header} >\r\n                            <Typography className={classes.headerContent} variant=\"h5\">\r\n                                Cá nhân đánh giá\r\n                            </Typography>\r\n                        </div>\r\n                        {\r\n                            isTime.isTime ?\r\n                                <Paper variant=\"outlined\" className={classes.paper}>\r\n                                    <Typography style={{ textTransform: 'uppercase', marginBottom: 16 }}>Đánh giá Đảng viên cuối năm</Typography>\r\n                                    <Typography variant=\"body1\">Thời gian: Từ ngày <b>{getLocaleDate(isTime.ThoiGianBatDau)}</b> đến ngày <b>{getLocaleDate(isTime.ThoiGianKetThuc)}</b>\r\n                                    </Typography>\r\n                                    <div className={classes.flexContainer}>\r\n                                        <Typography style={{ marginRight: 40 }} variant=\"body1\">Năm: <b>{year}</b></Typography>\r\n                                        <Typography style={{ marginRight: 20 }} variant=\"body1\">Loại:</Typography>\r\n                                        <MySelect\r\n                                            value={grade}\r\n                                            onChange={handleChange}\r\n                                        >\r\n                                            <MenuItem value=\"0\">Chọn loại</MenuItem>\r\n                                            {\r\n                                                gradeArr.length > 0 &&\r\n                                                gradeArr.map(el => <MenuItem key={el.MaLoai} value={el.MaLoai}>{el.TenLoai}</MenuItem>)\r\n                                            }\r\n                                        </MySelect>\r\n                                        <MyButton disabled={grade == 0} onClick={handleSubmit} style={{ marginLeft: 20 }} info>Đánh giá</MyButton>\r\n                                    </div>\r\n                                    {isEvaluate ?\r\n                                        <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                                            <CheckIcon color=\"success\" fontSize=\"large\" />\r\n                                            <Typography alignItems=\"center\" style={{ textTransform: \"uppercase\" }} variant=\"h5\" color=\"green\">Đã đánh giá</Typography>\r\n                                        </div>\r\n                                        :\r\n                                        <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                                            <ClearIcon color=\"error\" fontSize=\"large\" />\r\n                                            <Typography alignItems=\"center\" style={{ textTransform: \"uppercase\" }} variant=\"h5\" color=\"red\">Chưa đánh giá</Typography>\r\n                                        </div>\r\n                                    }\r\n                                </Paper>\r\n                                :\r\n                                <Paper variant=\"outlined\" className={classes.paper}>\r\n                                    <Grid marginBottom={2}>\r\n                                        <Typography style={{ textTransform: 'uppercase' }}>Đánh giá Đảng viên cuối năm</Typography>\r\n                                        <Typography style={{ marginRight: 40 }} variant=\"body1\">Năm: <b>{year}</b></Typography>\r\n                                        <Typography variant=\"body1\">Chưa đến thời gian đánh giá</Typography>\r\n                                    </Grid>\r\n                                </Paper>\r\n                        }\r\n\r\n                        {/* <TableContainer variant=\"outlined\" component={Paper}>\r\n                    <Table aria-label=\"simple table\">\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <TableCell>Loại</TableCell>\r\n                                <TableCell>Tiêu chí</TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            <TableRow\r\n                                sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\r\n                            >\r\n                                <TableCell sx={3}>\r\n                                    - Hoàn thành xuất sắc nhiệm vụ<br />\r\n                                </TableCell>\r\n                                <TableCell sx={9}>\r\n                                    <p style={{ whiteSpace: 'normal', wordWrap: 'break-word' }}>\r\n                                        - Là Đảng viên thực sự tiêu biểu về năng lực, phẩm chất đạo đức, lối sống, luôn đổi mới, sáng tạo, có nhiều thành tích nổi bật trong công tác được các Đảng viên khác học tập, noi theo.<br />\r\n                                        - Các tiêu chí về kết quả thực hiện nhiệm vụ chính trị được giao đều đạt “Xuất sắc”; các tiêu chí còn lại được đánh giá “Tốt” trở lên.<br />\r\n                                        - Đảng viên là cán bộ, công chức, viên chức được xếp loại “Hoàn thành xuất sắc nhiệm vụ”.\r\n                                    </p>\r\n                                </TableCell>\r\n                            </TableRow>\r\n                            <TableRow\r\n                                sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\r\n                            >\r\n                                <TableCell sx={3}>\r\n                                    - Hoàn thành xuất sắc nhiệm vụ<br />\r\n                                </TableCell>\r\n                                <TableCell sx={9}>\r\n                                    <p style={{ whiteSpace: 'normal', wordWrap: 'break-word' }}>\r\n                                        - Các tiêu chí về kết quả thực hiện nhiệm vụ chính trị được giao đạt “Tốt” trở lên; những tiêu chí còn lại đạt “Trung bình” trở lên.\r\n\r\n                                        - Đảng viên là cán bộ, công chức, viên chức được xếp loại “Hoàn thành tốt nhiệm vụ” trở lên.\r\n                                    </p>\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer> */}\r\n                    </>\r\n                }\r\n            </Layout>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Evaluate;"],"sourceRoot":""}