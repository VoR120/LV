{"version":3,"sources":["../node_modules/@mui/icons-material/Check.js","../node_modules/@mui/icons-material/Clear.js","page/Decentralization.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_createSvgIcon","_jsxRuntime","_default","jsx","d","useStyles","makeStyles","theme","header","marginBottom","headerContent","textTransform","fontWeight","table","width","backgroundColor","marginTop","editBtn","color","palette","common","white","info","main","margin","dark","deleteBtn","error","paper","display","alignItems","flexWrap","padding","inputSelect","marginRight","checkIcon","success","Decentralization","classes","useState","useContext","CategoryContext","category","categoryDispatch","loading","setLoading","rows","setRows","columns","setColumns","useEffect","getAllCategory","checkAllPermission","obj","isAll","keys","forEach","el","fetchAPI","a","getPermissionPosition","res","newRes","map","index","newColumn","title","field","minWidth","render","params","sx","categories","push","TenQuyen","MaQuyen","button","sidebar","className","variant","style","maxWidth","components","Container","props","options","sorting","data","isLoading"],"mappings":"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","file":"static/js/21.69fc9178.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"\n}), 'Check');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Clear');\n\nexports.default = _default;","import MaterialTable from '@material-table/core';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\nimport ClearIcon from '@mui/icons-material/Clear';\r\nimport { Paper, TableContainer, Typography } from '@mui/material';\r\nimport makeStyles from '@mui/styles/makeStyles';\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { getAllCategory } from '../action/categoryAction';\r\nimport { getPermissionPosition } from '../action/permissionAction';\r\nimport DecentralizationForm from '../component/DecentralizationForm';\r\nimport Layout from '../component/Layout';\r\nimport { CategoryContext } from '../contextAPI/CategoryContext';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    header: {\r\n        marginBottom: '40px'\r\n    },\r\n    headerContent: {\r\n        textTransform: 'uppercase',\r\n        fontWeight: '600',\r\n    },\r\n    table: {\r\n        width: '100%',\r\n        backgroundColor: 'white',\r\n        marginTop: '18px',\r\n\r\n    },\r\n    editBtn: {\r\n        color: theme.palette.common.white,\r\n        backgroundColor: theme.palette.info.main,\r\n        margin: '0 4px',\r\n        '&:hover': {\r\n            backgroundColor: theme.palette.info.dark\r\n        },\r\n    },\r\n    deleteBtn: {\r\n        color: theme.palette.common.white,\r\n        backgroundColor: theme.palette.error.main,\r\n        margin: '0 4px',\r\n        '&:hover': {\r\n            backgroundColor: theme.palette.error.dark\r\n        },\r\n    },\r\n    paper: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        flexWrap: 'wrap',\r\n        padding: '16px',\r\n        marginBottom: '16px',\r\n    },\r\n    inputSelect: {\r\n        marginRight: '20px',\r\n    },\r\n    checkIcon: {\r\n        color: theme.palette.success.main,\r\n    },\r\n}))\r\n\r\nconst Decentralization = () => {\r\n    const classes = useStyles();\r\n    const [categoryField, setCategoryField] = useState(\"chibo\");\r\n    const { category, categoryDispatch } = useContext(CategoryContext);\r\n    const [loading, setLoading] = useState(false);\r\n    const handleChangeField = (e) => {\r\n        setCategoryField(e.target.value);\r\n    }\r\n\r\n    const [rows, setRows] = useState([])\r\n\r\n    const [columns, setColumns] = useState([])\r\n    // <DecentralizationForm data={params} button />\r\n\r\n    useEffect(() => {\r\n        setLoading(true)\r\n        getAllCategory(categoryDispatch, \"position\");\r\n        getAllCategory(categoryDispatch, \"permission\")\r\n    }, [])\r\n\r\n    const checkAllPermission = (obj) => {\r\n        let isAll = true\r\n        Object.keys(obj).forEach(el => {\r\n            if (obj[el] == 0)\r\n                isAll = false\r\n        })\r\n        return isAll\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchAPI = async () => {\r\n            const res = await getPermissionPosition();\r\n            let newRes = [...res];\r\n            res.map((obj, index) => {\r\n                newRes[index][\"all\"] = checkAllPermission(obj) ? 1 : 0\r\n            })\r\n            setRows(newRes);\r\n            setLoading(false)\r\n        }\r\n        let newColumn = [\r\n            { title: \"Chức vụ\", field: \"TenChucVu\", minWidth: 150 },\r\n            {\r\n                title: \"Toàn quyền\",\r\n                field: \"all\",\r\n                render: (params) =>\r\n                    checkAllPermission(params)\r\n                        ? <CheckIcon sx={{ width: '100%' }} color=\"success\" />\r\n                        : <ClearIcon sx={{ width: '100%' }} color=\"error\" />\r\n            }\r\n        ]\r\n        category.categories[\"permission\"].map(el => {\r\n            newColumn.push({\r\n                title: el.TenQuyen,\r\n                field: el.MaQuyen + \"\",\r\n                render: (params) =>\r\n                    params[el.MaQuyen] == 1\r\n                        ? <CheckIcon sx={{ width: '100%' }} color=\"success\" />\r\n                        : <ClearIcon sx={{ width: '100%' }} color=\"error\" />\r\n            })\r\n        })\r\n        newColumn.push({\r\n            title: \"Phân quyền\",\r\n            field: \"PhanQuyen\",\r\n            render: (params) =>\r\n                <DecentralizationForm\r\n                    value={params} button\r\n                    setRows={setRows}\r\n                />\r\n        })\r\n        setColumns(newColumn)\r\n        fetchAPI();\r\n    }, [category.categories])\r\n\r\n    return (\r\n        <>\r\n            <Layout sidebar>\r\n                <div className={classes.header} >\r\n                    <Typography className={classes.headerContent} variant=\"h5\">\r\n                        Phân quyền\r\n                    </Typography>\r\n                </div>\r\n                <TableContainer className=\"decentralization-table\" style={{ maxWidth: \"1170px\", }} >\r\n                    <MaterialTable\r\n                        components={{\r\n                            Container: (props) => <Paper\r\n                                {...props}\r\n                                className={classes.table}\r\n                                variant=\"outlined\"\r\n                            />\r\n                        }}\r\n                        options={{\r\n                            padding: 'dense',\r\n                            sorting: false\r\n                        }}\r\n                        title={\"Phân quyền\"}\r\n                        columns={columns}\r\n                        data={rows}\r\n                        isLoading={loading}\r\n                    />\r\n                </TableContainer>\r\n            </Layout>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Decentralization;"],"sourceRoot":""}